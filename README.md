# penny-pinching

一个面向日常生活的语音记账 App。你可以用一句自然语言快速记账，再手动微调后保存。

## 这是什么

`penny-pinching` 是一个本地优先的记账工具，支持：
- 自然语言解析记账（文本/语音场景）
- 收入/支出分类管理
- 历史记录搜索、编辑、删除
- 统计分析（今日/本周/本月/今年 + 饼图）
- 数据导出/导入（JSON）

## 核心功能

### 1. 一句话记账
在记账页输入类似：
- `今天午饭 32`
- `昨晚打车 48`
- `本月工资 12000`

应用会自动解析金额、时间、收支类型和分类。解析后你可以继续手动修改：
- 金额
- 收入/支出
- 分类
- 日期时间
- 备注

### 2. 记录管理
在记录页可以：
- 搜索账单
- 编辑已有账单
- 删除账单

编辑时可以完整修改类型、金额、时间、分类和备注。

### 3. 分类管理
在分类页可以：
- 新增分类（收入/支出）
- 重命名分类
- 删除分类

删除分类时，相关账单会迁移到“未分类”，避免账单丢失。

### 4. 统计分析
统计页支持：
- 时间范围切换：今日 / 本周 / 本月 / 今年
- 查看收入、支出、结余
- 按分类查看占比饼图
- 点击图例或扇区高亮对应分类

### 5. 数据导出与导入
在设置页支持：
- 导出为 JSON 文件（备份）
- 从 JSON 导入（恢复）

注意：导入会覆盖当前数据，请先做好备份。

## 首次使用

1. 打开应用后，先进入`设置`。
2. 配置 DeepSeek API Key（用于自然语言解析）。
3. 回到`记账`页，输入一句记账语句并解析。
4. 检查解析结果，必要时手动调整。
5. 点击保存。

## 使用建议

- 句子尽量包含金额和时间，例如：`今天买咖啡 18`。
- 如果解析时间不准确，直接在结果卡片里手动改日期和时间。
- 定期在设置页导出 JSON 备份数据。

## 隐私与数据

- 账单和分类数据保存在本地数据库。
- DeepSeek API Key 使用加密存储。
- 应用使用网络权限用于调用解析服务。
- 导出/导入仅在你选择文件后执行。

## 常见问题

### Q1：提示未配置 API Key
去`设置`页填写并保存 DeepSeek API Key。

### Q2：语句解析失败或结果不对
- 尝试更明确的表达（包含金额、时间、场景）。
- 在解析结果中手动修改金额、分类和时间后保存。

### Q3：删除分类后账单去哪了
会自动迁移到“未分类”，不会直接丢失。

---

如果你只想快速开始：
- 打开设置填 API Key
- 回到记账页输入一句话
- 确认并保存
